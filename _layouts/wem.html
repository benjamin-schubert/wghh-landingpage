---
layout: compress
---

{% assign theme = site.site-theme %}

{% for class in page.main-classes %}
  {% assign main-classes = '' | append: ' ' | append: class %}
{% endfor %}
{% if page.theme != nil %}
  {% capture page_theme %}page.theme{% endcapture %}
{% else %}
  {% capture page_theme %}{{ theme }}{% endcapture %}
{% endif %}

<!DOCTYPE>
<html>
  {% include global/head.html %}
  <body class="{{ page.page-name }}-page {{ page_theme }}">
    {% include components/header.html %}
    <main>

<ul class="slides">
    <li style="background-image: url(assets/images/Bild2.jpg)" id="slide">
        <div class="content">
            <h2>{{page.hero.title}}</h2>
            <div class="main">{{page.hero.lead}}</div>
            <h3>For your address <span id="address"></span>:</h3>
            <div id="main" class="main">
                <table class="results">
                  <tr><td>cooperatively owned           </td><td id="flats_cooperative_owned"></td><td><span id="flats_cooperative_owned_q"></span>%</td></tr>
                  <tr><td>ngo or church owned           </td><td id="flats_ngo_church_owned"></td><td><span id="flats_ngo_church_owned_q"></span>%</td></tr>
                  <tr><td>other private company owned   </td><td id="flats_other_private_company_owned"></td><td><span id="flats_other_private_company_owned_q"></span>%</td></tr>
                  <tr><td>private company owned         </td><td id="flats_private_company_owned"></td><td><span id="flats_private_company_owned_q"></span>%</td></tr>
                  <tr><td>private owned                 </td><td id="flats_private_owned"></td><td><span id="flats_private_owned_q"></span>%</td></tr>
                  <tr><td>public body owned             </td><td id="flats_public_body_owned"></td><td><span id="flats_public_body_owned_q"></span>%</td></tr>
                  <tr><td>state owned                   </td><td id="flats_state_owned"></td><td><span id="flats_state_owned_q"></span>%</td></tr>
                  <tr><td>total                         </td><td id="flats_total"></td></tr>
                </table>
                <div class="footnote"><small>{{page.hero.footnote}}</small></div>
                <div id="id" style="display:none">100mN33834E43253</div>
                <div class="social-share">
                  <ul>
                    <li>
                      <a href="https://twitter.com/share?text={{page.twitter_text | url_encode}}&url=https%3A//wem-gehoert-hamburg.de" id="twitter" target="_blank"></a>
                    </li>
                    <li>
                      <a href="https://www.facebook.com/sharer.php?u=https%3A//wem-gehoert-hamburg.de" id="facebook" target="_blank"></a>
                    </li>
                  </ul>
                </div>
            </div>
        </div>
    </li>
</ul>

    {% include footer.html %}
    {% include components/footer.html %}

<script>
function wem() {
    var street = getQueryVariable("street");
    var number = getQueryVariable("nr");
    var streetview = "https://maps.googleapis.com/maps/api/staticmap?maptype=satellite&size=640x640&scale=2&zoom=18&center="+street+number+"HamburgGermany&key=AIzaSyCdGzleqAIZ5HK5ePdemM6MnPz2h-21oCk";
    var wghhXhttp = new XMLHttpRequest();
    wghhXhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var response = JSON.parse(this.responseText);
            if (response.data == null){
                document.getElementById("main").innerText = "Sorry, no results were found for this address.";
            }
            else {
                for (var stat in response.data) {
                    document.getElementById(stat).innerText = response.data[stat];
                }
                document.getElementById("address").innerText = (street +" "+number);
            }
        }
    };
    wghhXhttp.open("GET", "https://wghh-census-api.apps.correctiv.org/"+window.location.search, true);
    wghhXhttp.send();
    document.getElementById("slide").style.backgroundImage = "url('"+streetview+"')";
}
wem();

function getQueryVariable(variable) {
    var query = window.location.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
        }
    }
    console.log('Search variable %s not found.', variable);
}
</script>

